# Habits - 习惯追踪插件

![Habits Plugin](/icon.png)

🎯 **习惯追踪插件** - 技能导向的习惯培养系统，通过目标驱动的方式帮助您建立持续的习惯

## 核心功能

### 📝 习惯管理
- **习惯创建与编辑**：创建、修改、删除个人习惯
- **自定义图标和封面**：为习惯设置专属图标和封面图片
- **灵活分组**：按技能或自定义分组组织习惯
- **标签系统**：使用标签快速分类和筛选习惯
- **间隔设置**：支持设置习惯执行间隔天数
- **提醒设置**：支持按星期设置提醒（开发中）

### 🎓 技能系统
- **技能关联**：将习惯关联到特定技能，实现目标导向培养
- **技能管理**：创建、编辑技能，设置目标时长和最大时长限制
- **进度追踪**：查看技能下所有习惯的累计进度
- **自动分组**：习惯按关联技能自动分组展示
- **目标导向**：明确每个习惯对应的技能发展目标

### ⏱️ 智能计时器
- **双模式计时**：支持倒计时和正计时两种模式
- **开始/暂停/恢复**：完整的计时器控制功能
- **自动保存**：计时器状态自动保存，意外退出不丢失
- **实时更新**：计时过程实时更新显示
- **备注记录**：完成时可添加执行感受备注

### 📊 完成记录
- **详细记录**：记录每次习惯执行的日期和时长
- **历史查看**：查看完整的执行历史记录
- **数据统计**：
  - 总完成次数
  - 累计执行时长
  - 平均执行时长
- **记录管理**：支持删除单条记录或清空所有记录

### 👁️ 双视图模式
- **列表视图**：紧凑的列表展示，适合快速浏览和长按查看历史
- **卡片视图**：丰富的卡片展示，显示封面图片和快捷操作
- **一键切换**：在列表和卡片视图间自由切换
- **状态保持**：页面切换时保持视图状态

## 使用场景

### 技能学习
- **乐器练习**：记录每日练习乐器时长，如"钢琴练习"关联到"音乐技能"
- **语言学习**：记录学习外语的时间，如"英语听力"关联到"英语技能"
- **绘画练习**：记录绘画练习时长，如"素描练习"关联到"绘画技能"
- **编程学习**：记录编程学习时间，如"Flutter开发"关联到"编程技能"

### 健康习惯
- **运动健身**：记录每日运动时长，如"晨跑"关联到"健康技能"
- **冥想练习**：记录冥想时间，如"正念冥想"关联到"心理健康技能"
- **阅读习惯**：记录每日阅读时长，如"技术书籍"关联到"知识技能"
- **写作练习**：记录写作时间，如"日记写作"关联到"写作技能"

### 专业发展
- **专业技能**：专业技能练习时间，如"UI设计"关联到"设计技能"
- **证书考试**：备考学习时间，如"考试复习"关联到"学习技能"
- **科研工作**：科研项目投入时间，如"论文阅读"关联到"科研技能"
- **职业培训**：职业技能培训时间，如"职业学习"关联到"职业发展技能"

## 操作指南

### 创建技能
1. 点击底部导航栏的「技能」选项卡
2. 点击「+」创建新技能
3. 输入技能名称和描述
4. 选择技能图标和封面图
5. 设置目标时长（分钟）和最大时长限制
6. 保存技能

### 创建习惯
1. 点击底部导航栏的「习惯」选项卡
2. 点击右上角「+」创建新习惯
3. 输入习惯标题（必填）
4. 添加备注和分组信息
5. 设置预计时长（默认30分钟）
6. 选择关联的技能（必填）
7. 选择习惯图标和封面图片
8. 保存习惯

### 记录执行
1. 在习惯列表中找到要记录的习惯
2. 点击习惯卡片上的计时器按钮
3. 选择倒计时或正计时模式
4. 点击「开始」启动计时器
5. 专注执行习惯（可暂停/恢复）
6. 完成后点击「完成」
7. 添加执行备注
8. 保存记录

### 查看记录和统计
1. 长按列表视图中的习惯项
2. 查看「记录」Tab：浏览所有完成记录
3. 查看「统计」Tab：查看完成次数和总时长
4. 在技能页面查看该技能下所有习惯的汇总统计

## 界面说明

### 主界面布局
- **双Tab设计**：底部导航栏分为「习惯」和「技能」两个选项卡
- **习惯Tab**：显示所有习惯，支持列表/卡片视图切换
- **技能Tab**：显示所有技能，可查看技能详情

### 视图模式
- **列表视图**：
  - 紧凑显示，节省空间
  - 支持长按查看历史记录
  - 按技能自动分组

- **卡片视图**：
  - 2列网格布局
  - 显示封面图片
  - 显示计时器快捷按钮

## 数据存储

插件数据采用本地存储，存储路径：
- `habits/habits.json` - 习惯数据
- `habits/skills.json` - 技能数据
- `habits/records/<habitId>.json` - 各习惯的完成记录
- `habits/habit_images/` - 习惯封面图片

支持通过WebDAV进行数据同步和备份。

## 常见问题

**Q: 如何更改习惯关联的技能？**
A: 编辑习惯，在技能下拉框中选择新的技能即可。

**Q: 倒计时和正计时有什么区别？**
A: 倒计时模式从预设时长开始倒数，适合有固定时长的习惯；正计时模式从0开始计时，适合不限时长的习惯。

**Q: 计时器突然停止怎么办？**
A: 计时器状态会自动保存，重新打开对话框可以继续之前的计时。

**Q: 如何批量删除记录？**
A: 目前支持单条删除和清空所有记录，暂不支持批量删除。

**Q: 技能删除后关联的习惯怎么办？**
A: 技能删除后，关联的习惯仍会保留，但会归类到"未分类"分组中。

**Q: 支持导入导出数据吗？**
A: 目前主要通过WebDAV进行同步，导入导出功能开发中。

**Q: 可以设置习惯的执行间隔吗？**
A: 可以，在创建/编辑习惯时可以设置间隔天数，0表示每天执行。

---

*让优秀成为习惯，让坚持成就梦想*